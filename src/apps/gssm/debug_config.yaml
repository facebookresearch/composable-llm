# Debugging configuration
monitor:
  seed: 100
  log_period: 10
  dir: "/private/home/vivc/logs/composition/debug_ddp"
  overwrite: true
  wandb:
    active: true
    entity: vivc
    project: llm-wrapper
    name: debug

cluster:
  compile_model: true
  slurm:
    nb_gpus: 8
    time: 10
    signal_time: 10
    script_extra: "echo 'Running task with SLURM_TASK_ID: $SLURM_TASK_ID'"

model:
  vocab_size: 32
  emb_dim: 64
  nb_heads: 2
  ffn_dim: 256
  nb_layers: 2

data:
  seq_len: 32
  batch_size: 16
  seed: 42
  graph_seed: 0
  gssm:
    nodes:
    - name: Z1
      state_dim: 4
      parents: []
      alpha: 1e3
    - name: Z2
      state_dim: 4
      alpha: 1e3
    - name: Z3
      state_dim: 4
      alpha: 1e3
    - name: Z4
      state_dim: 4
      parents: [Z3]
      alpha: 1e3
    - name: X
      state_dim: 32
      parents: [Z1, Z2, Z3, Z4]
      alpha: 1e-2

optim:
  steps: 5000

checkpoint:
  period: 1000
  keep_only: 3